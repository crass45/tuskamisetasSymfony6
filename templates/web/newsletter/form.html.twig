{# templates/web/newsletter/form.html.twig #}

{% extends "base.html.twig" %}

{% block title %}{% trans %}Suscripción a newsletter{% endtrans %}{% endblock %}
{% block metaDescription %}{% trans %}Mantente informado de todas las novedades suscribiéndote a nuestra newsletter.{% endtrans %}{% endblock %}

{% block baseBody %}
    {# Aplicamos el tema de Bootstrap al formulario #}
    {% form_theme form 'bootstrap_3_layout.html.twig' %}

    <div class="container" style="margin-top: 40px; margin-bottom: 60px;">
        <div class="row">
            <div class="col-md-8 col-md-offset-2">
                {# Contenedor estilizado (Igual que success/error) #}
                <div class="border_gris" style="background-color: white; border-radius: 4px; padding: 40px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">

                    {# Icono de Cabecera #}
                    <div style="margin-bottom: 20px;">
                        <img src="{{ asset('pollo.jpeg') }}" style="height: 100px; width: auto;" alt="Logotipo TusKamisetas">
                    </div>

                    <h1 class="titulo" style="color: #044266; font-weight: bold; margin-top: 0; text-transform: uppercase;">
                        {% trans %}QUEREMOS SEGUIR EN CONTACTO{% endtrans %}
                    </h1>

                    <hr style="margin-top: 20px; margin-bottom: 30px; border-top: 1px solid #eee; width: 100px;">

                    <div class="texto" style="font-size: 16px; color: #555; margin-bottom: 30px; line-height: 1.6;">
                        <p>
                            {% trans %}Desde TusKamisetas nos gustaría mantenerte informado de nuestras ofertas y novedades.{% endtrans %}<br>
                            {% trans %}Suscríbete a nuestro boletín para recibir descuentos exclusivos.{% endtrans %}
                        </p>
                    </div>

                    {# INICIO DEL FORMULARIO #}
                    {{ form_start(form, {'attr': {'id': 'newsletterForm', 'class': 'form-horizontal'}}) }}

                    {# Campo Email #}
                    <div class="form-group">
                        <div class="col-sm-10 col-sm-offset-1">
                            {{ form_widget(form.email, {
                                'attr': {
                                    'class': 'form-control input-lg',
                                    'placeholder': 'Introduce tu email...',
                                    'style': 'text-align: center; border: 2px solid #ddd;'
                                }
                            }) }}
                            {{ form_errors(form.email) }}
                        </div>
                    </div>

                    {# Checkbox de Privacidad (DENTRO del form para validación nativa) #}
                        <div class="col-sm-12">
                            <div class="checkbox">
                                {# AÑADIDO: justify-content: center; para centrar todo el bloque #}
                                <label style="font-size: 14px; color: #666; padding-left: 0; display: flex; align-items: center; justify-content: center;">
                                    <input type="checkbox" id="privacityTKM" name="privacity" required style="margin-top: 0; margin-right: 10px;">
                                    <span style="text-align: left;"> {# text-align: left por si ocupa 2 líneas que se lea bien #}
                                        {% trans %}He leído y acepto los{% endtrans %}
                                        <a href="{{ path('app_terms_of_use') }}" target="_blank" style="color: #044266; text-decoration: underline;">{% trans %}Términos de uso{% endtrans %}</a>
                                        {% trans %}y la{% endtrans %}
                                        <a href="{{ path('app_privacy_policy') }}" target="_blank" style="color: #044266; text-decoration: underline;">{% trans %}Política de privacidad{% endtrans %}</a>.
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>

                    {# Botón de Envío #}
                    <div style="margin-top: 20px; text-align: center">
                        <button type="submit" class="btn button btn-lg" style="width: 100%; max-width: 300px; text-transform: uppercase;">
                            {% trans %}Confirmar Suscripción{% endtrans %}
                        </button>
                    </div>

                    {# Evitamos que se renderice el botón submit original del FormType, ya que hemos puesto uno manual más bonito #}
                    {% if form.suscribirse is defined %}
                        {% do form.suscribirse.setRendered %}
                    {% endif %}

                    {{ form_end(form) }}
                    {# FIN DEL FORMULARIO #}

                </div>
            </div>
        </div>
    </div>
{% endblock %}